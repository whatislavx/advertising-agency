<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Мої замовлення</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <link rel="stylesheet" href="../css/main.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <header class="header">
      <div class="header-container header-content">
        <h1 class="header-logo">Рекламне Агентство</h1>

        <nav class="header-nav">
          <a href="catalog.html">Каталог</a>
          <a href="my-orders.html" class="active">Мої замовлення</a>
          <a href="profile.html" class="flex items-center gap-2">
            <i data-lucide="user" class="w-4 h-4"></i> Профіль
          </a>
        </nav>

        <a
          href="index.html"
          class="flex items-center gap-2 text-gray-600 hover:text-red-600 transition-colors"
        >
          <i data-lucide="log-out" class="w-5 h-5"></i> Вихід
        </a>
      </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="mb-8">
        <h2 class="text-3xl text-[#1a3a5c] font-medium mb-2">Мої замовлення</h2>
        <p class="text-gray-600">Історія та статус ваших рекламних кампаній</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="card p-6 flex items-center gap-3">
          <div
            class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center"
          >
            <i data-lucide="package" class="text-blue-600 w-6 h-6"></i>
          </div>
          <div>
            <p class="text-sm text-gray-600">Всього замовлень</p>
            <p class="text-2xl text-[#1a3a5c] font-bold" id="totalOrders">...</p>
          </div>
        </div>
        <div class="card p-6 flex items-center gap-3">
          <div
            class="w-12 h-12 rounded-lg bg-orange-100 flex items-center justify-center"
          >
            <i data-lucide="clock" class="text-orange-600 w-6 h-6"></i>
          </div>
          <div>
            <p class="text-sm text-gray-600">Активних кампаній</p>
            <p class="text-2xl text-[#1a3a5c] font-bold" id="activeCampaigns">...</p>
          </div>
        </div>
        <div class="card p-6 flex items-center gap-3">
          <div
            class="w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center"
          >
            <i data-lucide="credit-card" class="text-green-600 w-6 h-6"></i>
          </div>
          <div>
            <p class="text-sm text-gray-600">Загальні витрати</p>
            <p class="text-2xl text-[#1a3a5c] font-bold" id="totalSpent">...</p>
          </div>
        </div>
      </div>

      <div class="card overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead>
              <tr>
                <th>Номер</th>
                <th>Послуга</th>
                <th>Дата</th>
                <th class="text-right">Сума</th>
                <th class="text-center">Статус</th>
                <th class="text-center">Дії</th>
              </tr>
            </thead>
            <tbody id="ordersTableBody">
              <!-- Orders will be loaded here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Reschedule Modal -->
    <div id="rescheduleModal" class="modal-overlay hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Перенести замовлення</h3>
          <button onclick="closeRescheduleModal()" class="btn-icon">
            <i data-lucide="x" class="w-6 h-6"></i>
          </button>
        </div>
        <div class="modal-body">
          <p class="text-gray-600 mb-4">Оберіть нові дати кампанії:</p>
          <input type="hidden" id="rescheduleOrderId">
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
              <div class="input-wrap">
                <label>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="6" width="18" height="15" rx="2" fill="none" stroke="#364153" stroke-width="2"/>
                    <path d="M3 10H21" stroke="#364153" stroke-width="2"/>
                    <path d="M8 3V6" stroke="#364153" stroke-width="2" stroke-linecap="round"/>
                    <path d="M16 3V6" stroke="#364153" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  Дата початку
                </label>
                <input type="text" id="rescheduleStartDate" class="input-field date-picker" placeholder="Оберіть дату">
              </div>

              <div class="input-wrap">
                <label>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="6" width="18" height="15" rx="2" fill="none" stroke="#364153" stroke-width="2"/>
                    <path d="M3 10H21" stroke="#364153" stroke-width="2"/>
                    <path d="M8 3V6" stroke="#364153" stroke-width="2" stroke-linecap="round"/>
                    <path d="M16 3V6" stroke="#364153" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  Дата завершення
                </label>
                <input type="text" id="rescheduleEndDate" class="input-field date-picker" placeholder="Оберіть дату">
              </div>
          </div>
        </div>
        <div class="modal-footer">
          <button onclick="closeRescheduleModal()" class="btn btn-secondary">Скасувати</button>
          <button onclick="submitReschedule()" class="btn btn-primary">Зберегти</button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/uk.js"></script>
    <script src="../js/my-orders.js" type="module"></script>
  </body>
</html>
